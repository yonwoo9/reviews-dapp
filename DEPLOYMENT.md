# éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•åˆå§‹åŒ–å’Œéƒ¨ç½²è¿™ä¸ªå»ä¸­å¿ƒåŒ–è¯„è®º DApp åˆ°åŒºå—é“¾ç½‘ç»œã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº React + TypeScript + Solidity çš„å»ä¸­å¿ƒåŒ–è¯„è®ºå¹³å°ï¼Œä¸»è¦ç‰¹ç‚¹ï¼š

- **å‰ç«¯**: React 18 + TypeScript + Vite + Tailwind CSS
- **æ™ºèƒ½åˆçº¦**: Solidity 0.8.20
- **Web3 é›†æˆ**: ethers.js
- **éƒ¨ç½²å·¥å…·**: Hardhat

## ğŸš€ åˆå§‹åŒ–æ­¥éª¤

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
npm install

# å®‰è£… Hardhat å’Œéƒ¨ç½²å·¥å…·ï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼‰
npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox dotenv
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶ï¼š

```bash
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ç§é’¥å’Œ RPC URLï¼š

```env
PRIVATE_KEY=ä½ çš„ç§é’¥ï¼ˆä» MetaMask å¯¼å‡ºï¼Œæˆ–ä½¿ç”¨æµ‹è¯•è´¦æˆ·ï¼‰
SEPOLIA_RPC_URL=https://rpc.sepolia.org
```

**âš ï¸ å®‰å…¨æç¤º**ï¼š
- æ°¸è¿œä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ° Git
- ä½¿ç”¨æµ‹è¯•è´¦æˆ·çš„ç§é’¥ï¼Œä¸è¦ä½¿ç”¨ä¸»è´¦æˆ·
- ç§é’¥æ³„éœ²ä¼šå¯¼è‡´èµ„é‡‘æŸå¤±

### 3. è·å–æµ‹è¯•å¸ï¼ˆæµ‹è¯•ç½‘éƒ¨ç½²ï¼‰

å¦‚æœéƒ¨ç½²åˆ°æµ‹è¯•ç½‘ï¼Œéœ€è¦å…ˆè·å–æµ‹è¯•å¸ï¼š

#### Sepolia æµ‹è¯•ç½‘
- [Alchemy Sepolia Faucet](https://sepoliafaucet.com/)
- [Infura Sepolia Faucet](https://www.infura.io/faucet/sepolia)
- [Chainlink Faucet](https://faucets.chain.link/sepolia)

#### Goerli æµ‹è¯•ç½‘
- [Goerli Faucet](https://goerlifaucet.com/)
- [Alchemy Goerli Faucet](https://goerlifaucet.com/)

#### BSC æµ‹è¯•ç½‘
- [BSC Testnet Faucet](https://testnet.bnbchain.org/faucet-smart)

#### Polygon Mumbai æµ‹è¯•ç½‘
- [Polygon Faucet](https://faucet.polygon.technology/)

## ğŸ“¦ ç¼–è¯‘æ™ºèƒ½åˆçº¦

åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œå…ˆç¼–è¯‘åˆçº¦ï¼š

```bash
npm run compile
```

ç¼–è¯‘æˆåŠŸåï¼Œä¼šåœ¨ `artifacts` ç›®å½•ç”Ÿæˆåˆçº¦çš„ ABI å’Œå­—èŠ‚ç ã€‚

## ğŸŒ éƒ¨ç½²åˆ°ä¸åŒç½‘ç»œ

### æœ¬åœ°ç½‘ç»œï¼ˆHardhat Networkï¼‰

ç”¨äºæœ¬åœ°æµ‹è¯•ï¼Œæ— éœ€çœŸå®ä»£å¸ï¼š

```bash
npm run deploy:local
```

### Sepolia æµ‹è¯•ç½‘ï¼ˆæ¨èï¼‰

```bash
npm run deploy:sepolia
```

### Goerli æµ‹è¯•ç½‘

```bash
npm run deploy:goerli
```

### Polygon Mumbai æµ‹è¯•ç½‘

```bash
npm run deploy:mumbai
```

### BSC æµ‹è¯•ç½‘

```bash
npm run deploy:bsc-testnet
```

### ä¸»ç½‘éƒ¨ç½²ï¼ˆâš ï¸ è°¨æ…æ“ä½œï¼‰

éƒ¨ç½²åˆ°ä¸»ç½‘éœ€è¦çœŸå® ETHï¼Œä¸”åˆçº¦ä¸å¯æ›´æ”¹ï¼š

```bash
# Ethereum ä¸»ç½‘
npm run deploy:mainnet

# Polygon ä¸»ç½‘
npm run deploy:polygon

# BSC ä¸»ç½‘
npm run deploy:bsc
```

## ğŸ”§ éƒ¨ç½²åæ“ä½œ

### 1. æ›´æ–°åˆçº¦åœ°å€

éƒ¨ç½²æˆåŠŸåï¼Œè„šæœ¬ä¼šè¾“å‡ºåˆçº¦åœ°å€ï¼Œç±»ä¼¼ï¼š

```
âœ… åˆçº¦éƒ¨ç½²æˆåŠŸï¼
åˆçº¦åœ°å€: 0x1234567890123456789012345678901234567890
```

å°†åˆçº¦åœ°å€æ›´æ–°åˆ° `src/utils/web3.ts`ï¼š

```typescript
export const CONTRACT_ADDRESS = '0x1234567890123456789012345678901234567890';
```

### 2. éªŒè¯åˆçº¦ï¼ˆå¯é€‰ï¼‰

å¦‚æœéƒ¨ç½²åˆ°å…¬å…±ç½‘ç»œï¼Œå»ºè®®åœ¨åŒºå—æµè§ˆå™¨ä¸ŠéªŒè¯åˆçº¦ä»£ç ï¼š

#### Sepolia
- è®¿é—® [Sepolia Etherscan](https://sepolia.etherscan.io/)
- æœç´¢ä½ çš„åˆçº¦åœ°å€
- ç‚¹å‡» "Contract" æ ‡ç­¾é¡µ
- ç‚¹å‡» "Verify and Publish"
- é€‰æ‹©ç¼–è¯‘å™¨ç‰ˆæœ¬å’Œä¼˜åŒ–è®¾ç½®
- ç²˜è´´åˆçº¦ä»£ç è¿›è¡ŒéªŒè¯

### 3. æµ‹è¯•åˆçº¦åŠŸèƒ½

1. å¯åŠ¨å‰ç«¯åº”ç”¨ï¼š
   ```bash
   npm run dev
   ```

2. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åº”ç”¨ï¼ˆé€šå¸¸æ˜¯ http://localhost:3000ï¼‰

3. è¿æ¥é’±åŒ…ï¼ˆç¡®ä¿é’±åŒ…è¿æ¥åˆ°æ­£ç¡®çš„ç½‘ç»œï¼‰

4. å°è¯•å‘å¸ƒä¸€æ¡è¯„è®ºï¼ŒéªŒè¯åˆçº¦æ˜¯å¦æ­£å¸¸å·¥ä½œ

## ğŸ“ éƒ¨ç½²ä¿¡æ¯

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆ `deployment-info.json` æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

```json
{
  "network": "sepolia",
  "contractAddress": "0x...",
  "deployer": "0x...",
  "postFee": "0.001",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

## ğŸ” å¸¸è§é—®é¢˜

### 1. éƒ¨ç½²å¤±è´¥ï¼šè´¦æˆ·ä½™é¢ä¸è¶³

**é”™è¯¯ä¿¡æ¯**: `è´¦æˆ·ä½™é¢ä¸è¶³ï¼Œè¯·å…ˆè·å–æµ‹è¯•å¸`

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿é’±åŒ…ä¸­æœ‰è¶³å¤Ÿçš„æµ‹è¯•å¸
- æ£€æŸ¥ `.env` ä¸­çš„ `PRIVATE_KEY` æ˜¯å¦æ­£ç¡®
- ä»æµ‹è¯•ç½‘æ°´é¾™å¤´è·å–æµ‹è¯•å¸

### 2. éƒ¨ç½²å¤±è´¥ï¼šRPC è¿æ¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `could not detect network`

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `.env` ä¸­çš„ RPC URL æ˜¯å¦æ­£ç¡®
- å°è¯•ä½¿ç”¨å…¶ä»– RPC æä¾›å•†ï¼ˆAlchemyã€Infuraï¼‰
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 3. åˆçº¦åœ°å€æ— æ•ˆ

**é—®é¢˜**: å‰ç«¯æ˜¾ç¤º"åˆçº¦æœªéƒ¨ç½²"

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤å·²æ›´æ–° `src/utils/web3.ts` ä¸­çš„ `CONTRACT_ADDRESS`
- ç¡®è®¤é’±åŒ…è¿æ¥åˆ°æ­£ç¡®çš„ç½‘ç»œ
- åœ¨åŒºå—æµè§ˆå™¨ä¸ŠéªŒè¯åˆçº¦åœ°å€æ˜¯å¦å­˜åœ¨

### 4. Gas è´¹ç”¨è¿‡é«˜

**è§£å†³æ–¹æ¡ˆ**:
- é€‰æ‹© Gas è´¹ç”¨è¾ƒä½çš„ç½‘ç»œï¼ˆå¦‚ Polygonã€BSCï¼‰
- ç­‰å¾…ç½‘ç»œæ‹¥å µè¾ƒå°‘æ—¶å†éƒ¨ç½²
- ä½¿ç”¨ Gas ä¼˜åŒ–å™¨ï¼ˆå·²åœ¨é…ç½®ä¸­å¯ç”¨ï¼‰

## ğŸ› ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰å‘å¸ƒè´¹ç”¨

åˆçº¦éƒ¨ç½²åï¼Œåˆçº¦æ‰€æœ‰è€…å¯ä»¥ä¿®æ”¹å‘å¸ƒè´¹ç”¨ï¼š

```typescript
// åœ¨ Hardhat console ä¸­æ‰§è¡Œ
const contract = await ethers.getContractAt("ReviewContract", "åˆçº¦åœ°å€");
await contract.updateFee(ethers.parseEther("0.002")); // è®¾ç½®ä¸º 0.002 ETH
```

### æå–åˆçº¦ä½™é¢

åˆçº¦æ‰€æœ‰è€…å¯ä»¥æå–åˆçº¦ä¸­ç§¯ç´¯çš„è´¹ç”¨ï¼š

```typescript
await contract.withdraw();
```

## ğŸ“š ç›¸å…³èµ„æº

- [Hardhat æ–‡æ¡£](https://hardhat.org/docs)
- [ethers.js æ–‡æ¡£](https://docs.ethers.org/)
- [Solidity æ–‡æ¡£](https://docs.soliditylang.org/)
- [MetaMask æ–‡æ¡£](https://docs.metamask.io/)

## âš ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç§é’¥å®‰å…¨**: æ°¸è¿œä¸è¦å°†ç§é’¥æäº¤åˆ°ä»£ç ä»“åº“
2. **åˆçº¦å®¡è®¡**: ä¸»ç½‘éƒ¨ç½²å‰å»ºè®®è¿›è¡Œå®‰å…¨å®¡è®¡
3. **æµ‹è¯•å……åˆ†**: åœ¨æµ‹è¯•ç½‘ä¸Šå……åˆ†æµ‹è¯•åå†éƒ¨ç½²åˆ°ä¸»ç½‘
4. **å¤‡ä»½é‡è¦ä¿¡æ¯**: ä¿å­˜å¥½åˆçº¦åœ°å€å’Œéƒ¨ç½²äº¤æ˜“å“ˆå¸Œ
5. **Gas é™åˆ¶**: æ³¨æ„ Gas é™åˆ¶ï¼Œé¿å…äº¤æ˜“å¤±è´¥

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥ Hardhat å’Œä¾èµ–ç‰ˆæœ¬æ˜¯å¦å…¼å®¹
2. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
3. ç¡®è®¤ç½‘ç»œé…ç½®å’Œ RPC è¿æ¥
4. æ£€æŸ¥è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³

---

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰

